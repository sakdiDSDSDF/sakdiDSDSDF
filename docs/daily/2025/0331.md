# 3月31日

## 01背包问题

今天看了看入门级别的背包问题，只看了01背包问题，没学完全背包问题，写了三个题目，都是入门级别的题目。

https://www.luogu.com.cn/problem/P1048

https://www.luogu.com.cn/problem/P1049

https://www.luogu.com.cn/problem/P1060

背包问题的变量主要是背包的最大容量，物品的数量以及物品的价值，

在01背包题目中，物品不会被重复选取，这也是它和完全背包问题的主要区别。

01背包问题的大致解题思路为，使用双重for循环，外层循环遍历物品，内层循环遍历背包的容量，物品从第一个开始遍历，在最后一个物品结束，背包的容量从零开始遍历，到背包的最大容量为止。

```
dp[i][j]=max(dp[i-1][j-weight[i]]+value[i],dp[i-1][j]);
```

而这个为01背包问题的状态转移方程，让我们来详细理解这个方程。

首先这个方程成立的条件，也就是能被使用的前提就是——当前选择的物品的重量是否超出背包当前的容量，是背包当前的容量，不是最大容量，也不是剩余容量。如果小于等于，那就说明这个物品是可以被放进背包的，这个方程也就可以被使用。

然后对于这个方程，我们既然可以将该物品放入背包，我们就需要考虑放入后我们能否让背包中物品的总价值变大，所以我们需要一个max函数来判断放入和不放入的价值大小，左边为放入的计算方式，右边为不放入。

先来说说左边，既然我们选择放入，此时背包的总价值就等于

```
dp[i-1][j-weight[i]]+value[i]]
```

为什么第一个下标是i-1呢，因为我们既然要放当前物品，为了计算背包价值，必然需要前一个物品放入后的背包情况，所以是i-1。

然后是第二个下标，我觉得背包问题最难理解的部分，为什么是目前的背包容量减去这个物品的重量呢？ 我是这样理解的——你既然选择放入这个物品，那么就会产生两种可能，一种是目前背包的容量在你放入这个物品后，仍能支持你上一个放的物品在里面，也就是说没有超出，第二种就是目前背包的容量在你放入这个物品后，不能将上一个物品再留在里面了，也就是说需要做出取舍。！！！！！所以这个相减的目的就是为了得出放入此时的物品后背包的剩余空间，看其与上一个物品重量的大小关系，如果剩余空间大，就是第一种情况，反之第二种情况。！！！！！！！！说简单点，这个相减的作用就是用来判断是选当前的物品更好还是选上一个物品更好，当然这都是建立在剩余空间比背包目前容量小的情况下， 如果大那肯定都拿了。

```
dp[i-1][j]
```

然后再来看看右边，其实没什么好说的，就是与上一个物品放入时的背包价值进行比较，如果左边的第二个下标最后大于右边的第二个下标，那肯定是左边更优，其实不需要这个max就能比，但如果小于了就需要max来判断了。

至此，非常简单地对01背包问题进行了描述，以后有更深更正确的理解会进行修改。